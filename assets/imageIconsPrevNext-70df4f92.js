import{d as t,o as e,L as a,c as s,g as i,a as n}from"./index-4ea71246.js";const c=[i('<div id="map"></div><div class="container image-controls"><div class="button-controls prev">←</div><div class="city"></div><div class="button-controls next disabled">→</div></div>',2)],l=t({__name:"imageIconsPrevNext",setup(t){let i={minZoom:5,maxZoom:18};const l=[{lat:30.501473446187326,lng:117.05471061920166,title:"振风塔",image:"https://fastly.jsdelivr.net/gh/cjhayes16/oss/zhenfengta.jpg"},{lat:30.496915979402274,lng:117.07697295402527,title:"长江大桥",image:"https://fastly.jsdelivr.net/gh/cjhayes16/oss/changjiangdaqiao.jpg"},{lat:30.711457675130042,lng:116.48528837417602,title:"天柱山",image:"https://fastly.jsdelivr.net/gh/cjhayes16/oss/tianzhushan.jpg"},{lat:31.11910809447416,lng:116.30710386489868,title:"大别山",image:"https://fastly.jsdelivr.net/gh/cjhayes16/oss/dabieshan.jpg"}];return e((()=>{const t=a.map("map",i).setView([30.55227,117.07424],9);a.tileLayer("http://t0.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=8c2992a8d82ecb284c857aa88102a057",{attribution:"stamen"}).addTo(t);for(let i=0;i<l.length;i++){const{lat:s,lng:c,title:o,image:d}=l[i],r=a.icon({iconUrl:d,className:"image-icon",iconSize:[100,60],iconAnchor:[50,50],popupAnchor:[0,-40]});let m=a.marker([s,c],{icon:r}).addTo(t);const g=m._leaflet_id;m.bindPopup(`\n      <div style="text-align: center;">\n        <div style="text-transform: uppercase; font-weight: bold;">${o} id: ${g}<div>\n      </div>\n    `),m.on("click",n),e(g,o)}function e(t,e){const a=`<a id="${t}" title="${e} MARKER-ID:${t}" class="marker-click" href="#">${e}</a>`;document.querySelector(".city").insertAdjacentHTML("beforeend",a)}function s(e){t.eachLayer((function(s){s.options&&s._leaflet_id===e&&function(e){e.openPopup(),t.panTo(a.latLng(e.getLatLng()))}(s)}))}function n(e){const a=e.target._leaflet_id;o(document.getElementById(a));c(l.findIndex(((t,e)=>e===a))),t.setView(e.target.getLatLng(),9)}function c(t){g.classList.add("disabled"),m.classList.remove("disabled"),t>0&&t<u?(g.classList.remove("disabled"),m.classList.remove("disabled")):0===t&&(m.classList.add("disabled"),g.classList.remove("disabled"))}function o(t){const e=document.querySelector(".active");e&&e.classList.remove("active"),t.classList.add("active")}const d=document.querySelectorAll(".marker-click"),r=document.querySelectorAll(".button-controls"),m=document.querySelector(".prev"),g=document.querySelector(".next"),u=d.length-1;d.forEach(((t,e)=>{t.addEventListener("click",(t=>{t.preventDefault(),o(t.target),c(e),s(Number(t.target.id))}))})),r.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();const e=t.target.classList[1];let a=Array.from(d).findIndex((t=>t.classList.contains("active")));a="prev"===e?a-1:a+1;const i=Array.from(d)[a];o(i),s(Number(i.id)),c(a)}))}))})),(t,e)=>(n(),s("div",null,c))}});export{l as default};
