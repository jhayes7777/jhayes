import{d as i,o as e,L as t,c as o,a,p as s,b as l,e as n,_ as d}from"./index-4ea71246.js";L.Marker.include({_slideToUntil:void 0,_slideToDuration:void 0,_slideToLatLng:void 0,_slideFromLatLng:void 0,_slideKeepAtCenter:void 0,_slideDraggingWasAllowed:void 0,slideTo:function(i,e){if(this._map){var t=250;e&&e.duration&&(t=e.duration);var o=!1;return e&&e.keepAtCenter&&(o=e.keepAtCenter),this._slideToDuration=t,this._slideToUntil=performance.now()+t,this._slideFromLatLng=this.getLatLng(),this._slideToLatLng=i,this._slideKeepAtCenter=o,this._slideDraggingWasAllowed=void 0!==this._slideDraggingWasAllowed?this._slideDraggingWasAllowed:this._map.dragging.enabled(),this._slideKeepAtCenter&&(this._map.dragging.disable(),this._map.doubleClickZoom.disable(),this._map.options.touchZoom="center",this._map.options.scrollWheelZoom="center"),this.fire("movestart"),this._slideTo(),this}},slideCancel:function(){L.Util.cancelAnimFrame(this._slideFrame)},_slideTo:function(){if(this._map){var i=this._slideToUntil-performance.now();if(i<0)return this.setLatLng(this._slideToLatLng),this._slideDraggingWasAllowed&&(this._map.dragging.enable(),this._map.doubleClickZoom.enable(),this._map.options.touchZoom=!0,this._map.options.scrollWheelZoom=!0),this._slideDraggingWasAllowed=void 0,this.fire("moveend"),this;var e=this._map.latLngToContainerPoint(this._slideFromLatLng),t=this._map.latLngToContainerPoint(this._slideToLatLng),o=(this._slideToDuration-i)/this._slideToDuration,a=t.multiplyBy(o).add(e.multiplyBy(1-o)),s=this._map.containerPointToLatLng(a);this.setLatLng(s),this._slideKeepAtCenter&&this._map.panTo(s,{animate:!1}),this._slideFrame=L.Util.requestAnimFrame(this._slideTo,this)}}}),L.Marker.addInitHook((function(){this.on("move",this.slideCancel,this)})),L.CircleMarker.include({slideTo:L.Marker.prototype.slideTo,slideCancel:L.Marker.prototype.slideCancel,_slideTo:L.Marker.prototype._slideTo}),L.CircleMarker.addInitHook((function(){this.on("move",this.slideCancel,this)}));const r=[(i=>(s("data-v-4cb8e034"),i=i(),l(),i))((()=>n("div",{id:"map"},null,-1)))],h=d(i({__name:"markerSlideTo",setup(i){let s={minZoom:5,maxZoom:18};return e((()=>{const i=t.map("map",s).setView([30.55227,117.07424],13);t.tileLayer("http://t0.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=8c2992a8d82ecb284c857aa88102a057",{attribution:"stamen"}).addTo(i);const e=t.marker([30.55227,117.07424]).addTo(i),o=[{lat:30.54227,lng:117.06424,color:"red"},{lat:30.59227,lng:117.02424,color:"blue"},{lat:30.51227,lng:117.01424,color:"green"},{lat:30.50227,lng:117.09424,color:"black"},{lat:30.53227,lng:117.09424,color:"orange"}];o.forEach((({lat:a,lng:s,color:l},n)=>{setTimeout((()=>{e.slideTo([a,s],{duration:1e3});let d=0===n?[30.55227,117.07424]:[o[n-1].lat,o[n-1].lng];console.log(d),t.polyline([d,[a,s]],{color:l,weight:5,dashArray:10}).addTo(i)}),1e3*n)}))})),(i,e)=>(a(),o("div",null,r))}}),[["__scopeId","data-v-4cb8e034"]]);export{h as default};
