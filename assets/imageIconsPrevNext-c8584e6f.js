import{d as e,o as t,L as a,a as i,c as n,g as s}from"./index-b6e7990c.js";const c=[s('<div id="map"></div><div class="container image-controls"><div class="button-controls prev">←</div><div class="city"></div><div class="button-controls next disabled">→</div></div>',2)],o=e({__name:"imageIconsPrevNext",setup(e){let s={minZoom:5,maxZoom:18};const o=[{lat:30.501473446187326,lng:117.05471061920166,title:"振风塔",image:"/images/zhenfengta.jpeg"},{lat:30.496915979402274,lng:117.07697295402527,title:"长江大桥",image:"/images/changjiangdaqiao.jpeg"},{lat:30.711457675130042,lng:116.48528837417602,title:"天柱山",image:"/images/tianzhushan.jpeg"},{lat:31.11910809447416,lng:116.30710386489868,title:"大别山",image:"/images/dabieshan.jpeg"}];return t((()=>{const e=a.map("map",s).setView([30.55227,117.07424],9);a.tileLayer("http://t0.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=8c2992a8d82ecb284c857aa88102a057",{attribution:"stamen"}).addTo(e);for(let s=0;s<o.length;s++){const{lat:i,lng:c,title:l,image:d}=o[s],r=a.icon({iconUrl:d,className:"image-icon",iconSize:[100,60],iconAnchor:[50,50],popupAnchor:[0,-40]});let m=a.marker([i,c],{icon:r}).addTo(e);const g=m._leaflet_id;m.bindPopup(`\n      <div style="text-align: center;">\n        <div style="text-transform: uppercase; font-weight: bold;">${l} id: ${g}<div>\n      </div>\n    `),m.on("click",n),t(g,l)}function t(e,t){const a=`<a id="${e}" title="${t} MARKER-ID:${e}" class="marker-click" href="#">${t}</a>`;document.querySelector(".city").insertAdjacentHTML("beforeend",a)}function i(t){e.eachLayer((function(i){i.options&&i._leaflet_id===t&&function(t){t.openPopup(),e.panTo(a.latLng(t.getLatLng()))}(i)}))}function n(t){const a=t.target._leaflet_id;l(document.getElementById(a));c(o.findIndex(((e,t)=>t===a))),e.setView(t.target.getLatLng(),9)}function c(e){g.classList.add("disabled"),m.classList.remove("disabled"),e>0&&e<u?(g.classList.remove("disabled"),m.classList.remove("disabled")):0===e&&(m.classList.add("disabled"),g.classList.remove("disabled"))}function l(e){const t=document.querySelector(".active");t&&t.classList.remove("active"),e.classList.add("active")}const d=document.querySelectorAll(".marker-click"),r=document.querySelectorAll(".button-controls"),m=document.querySelector(".prev"),g=document.querySelector(".next"),u=d.length-1;d.forEach(((e,t)=>{e.addEventListener("click",(e=>{e.preventDefault(),l(e.target),c(t),i(Number(e.target.id))}))})),r.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=e.target.classList[1];let a=Array.from(d).findIndex((e=>e.classList.contains("active")));a="prev"===t?a-1:a+1;const n=Array.from(d)[a];l(n),i(Number(n.id)),c(a)}))}))})),(e,t)=>(i(),n("div",null,c))}});export{o as default};
