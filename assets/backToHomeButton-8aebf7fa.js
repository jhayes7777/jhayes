import{d as t,o as e,L as o,c as n,e as i,a}from"./index-85ea934c.js";const s=[i("div",{id:"map"},null,-1),i("div",{class:"marker-position"},"移动地图",-1)],d=t({__name:"backToHomeButton",setup(t){let i={minZoom:5,maxZoom:18};const d=30.55227,l=117.07424;return e((()=>{const t=o.map("map",i).setView([d,l],13);o.tileLayer("http://t0.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=8c2992a8d82ecb284c857aa88102a057",{attribution:"stamen"}).addTo(t);const e=o.Control.extend({options:{position:"topleft"},onAdd:function(t){console.log(t.getCenter());const e=o.DomUtil.create("button");return e.title="back to home",e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M32 18.451L16 6.031 0 18.451v-5.064L16 .967l16 12.42zM28 18v12h-8v-8h-8v8H4V18l12-9z" /></svg>',e.className+="leaflet-bar back-to-home hidden",e}});t.addControl(new e),t.on("moveend",(function(){n.classList.remove("hidden"),n.addEventListener("click",(()=>{t.flyTo([d,l],13)})),t.on("moveend",(()=>{const{lat:e,lng:o}=t.getCenter(),i=1*e.toFixed(3),s=1*o.toFixed(3),c=[+d.toFixed(3),+l.toFixed(3)];a([i,s],c)&&n.classList.add("hidden")}))}));const n=document.querySelector(".back-to-home");const a=(t,e)=>JSON.stringify(t)===JSON.stringify(e)})),(t,e)=>(a(),n("div",null,s))}});export{d as default};
